{"version":3,"file":"Scroll.js","names":["defaultProps","defaultPropsMap","defaultPropTypes","Scroll","scrollableElementId","scrollableContentId","scrollAxis","containerClassName","scrollContainerClassName","scrollClassName","transition","children","scrollRef","useRef","useState","parentRef","setParentRef","contentRef","setContentRef","scrollPercentage","setScrollPercentage","scrollStyle","setScrollStyle","useEffect","localParentDom","document","getElementById","localContentDom","addEventListener","e","curScrollLeft","scrollLeft","calculatedTranslateX","current","style","transform","curScrollTop","scrollTop","calculatedTranslateY","clientWidth","clientHeight","width","height","cx","el","propTypes","PropTypes","string","oneOf"],"sources":["../../../src/components/Scroll/Scroll.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport defaultPropsMap from 'Constants/defaultProps';\nconst { defaultProps, defaultPropTypes } = defaultPropsMap;\n\nconst Scroll = ({\n  scrollableElementId,\n  scrollableContentId,\n  scrollAxis,\n  containerClassName,\n  scrollContainerClassName,\n  scrollClassName,\n  transition,\n  children\n}) => {\n  const scrollRef = useRef();\n\n  const [parentRef, setParentRef] = useState();\n  const [contentRef, setContentRef] = useState();\n  const [scrollPercentage, setScrollPercentage] = useState(0);\n  const [scrollStyle, setScrollStyle] = useState({});\n\n  useEffect(() => {\n    const localParentDom = document.getElementById(scrollableElementId);\n    const localContentDom = document.getElementById(scrollableContentId);\n    if (localParentDom) {\n      setParentRef(localParentDom);\n    }\n    if (localContentDom) {\n      setContentRef(localContentDom);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (parentRef && scrollPercentage) {\n      parentRef?.addEventListener('scroll', (e) => {\n        if (scrollAxis === 'x') {\n          const curScrollLeft = parentRef?.scrollLeft;\n          const calculatedTranslateX = (scrollPercentage * curScrollLeft) / 100;\n          scrollRef.current.style.transform = `translateX(${calculatedTranslateX}px)`;\n        }\n        if (scrollAxis === 'y') {\n          const curScrollTop = parentRef?.scrollTop;\n          const calculatedTranslateY = (scrollPercentage * curScrollTop) / 100;\n          scrollRef.current.style.transform = `translateY(${calculatedTranslateY}px)`;\n        }\n      });\n    }\n  }, [parentRef, scrollPercentage]);\n\n  useEffect(() => {\n    if (parentRef && contentRef) {\n      if (scrollAxis === 'x') {\n        setScrollPercentage((parentRef.clientWidth / contentRef.clientWidth) * 100);\n      }\n      if (scrollAxis === 'y') {\n        setScrollPercentage((parentRef.clientHeight / contentRef.clientHeight) * 100);\n      }\n    }\n  }, [parentRef, contentRef]);\n\n  useEffect(() => {\n    if (scrollPercentage) {\n      if (scrollAxis === 'x') {\n        setScrollStyle({ width: `${scrollPercentage}%` });\n      }\n      if (scrollAxis === 'y') {\n        setScrollStyle({ height: `${scrollPercentage}%` });\n      }\n    }\n  }, [scrollPercentage]);\n\n  return (\n    <>\n      <div className={cx(containerClassName)}>\n        {children}\n        <div className={scrollContainerClassName}>\n          <div\n            ref={(el) => (scrollRef.current = el)}\n            style={{\n              transition,\n              ...scrollStyle\n            }}\n            className={cx(scrollClassName)}></div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nScroll.propTypes = {\n  ...defaultPropTypes,\n  scrollableElementId: PropTypes.string,\n  scrollableContentId: PropTypes.string,\n  scrollAxis: PropTypes.oneOf(['x', 'y']),\n  containerClassName: PropTypes.string,\n  scrollContainerClassName: PropTypes.string,\n  scrollClassName: PropTypes.string,\n  transition: PropTypes.string\n};\n\nScroll.defaultProps = {\n  ...defaultProps,\n  transition: 'all linear .1s',\n  scrollAxis: 'x'\n};\n\nexport default Scroll;\n"],"mappings":"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"}