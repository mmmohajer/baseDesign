{"version":3,"file":"Scroll.js","names":["defaultProps","defaultPropsMap","defaultPropTypes","Scroll","scrollableElementId","scrollableContentId","scrollAxis","containerClassName","scrollContainerClassName","scrollClassName","transition","updateRefs","children","scrollRef","useRef","useState","parentRef","setParentRef","contentRef","setContentRef","scrollPercentage","setScrollPercentage","scrollStyle","setScrollStyle","useEffect","window","addEventListener","setTimeout","localParentDom","document","getElementById","localContentDom","e","curScrollLeft","scrollLeft","calculatedTranslateX","current","style","transform","curScrollTop","scrollTop","calculatedTranslateY","clientWidth","clientHeight","width","height","cx","el","propTypes","PropTypes","string","oneOf","bool"],"sources":["../../../src/components/Scroll/Scroll.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport defaultPropsMap from 'Constants/defaultProps';\nconst { defaultProps, defaultPropTypes } = defaultPropsMap;\n\nconst Scroll = ({\n  scrollableElementId,\n  scrollableContentId,\n  scrollAxis,\n  containerClassName,\n  scrollContainerClassName,\n  scrollClassName,\n  transition,\n  updateRefs,\n  children\n}) => {\n  const scrollRef = useRef();\n\n  const [parentRef, setParentRef] = useState();\n  const [contentRef, setContentRef] = useState();\n  const [scrollPercentage, setScrollPercentage] = useState(0);\n  const [scrollStyle, setScrollStyle] = useState({});\n\n  useEffect(() => {\n    window.addEventListener('resize', () => {\n      setTimeout(() => {\n        setParentRef('');\n        setContentRef('');\n        setTimeout(() => {\n          const localParentDom = document.getElementById(scrollableElementId);\n          const localContentDom = document.getElementById(scrollableContentId);\n          if (localParentDom) {\n            setParentRef(localParentDom);\n          }\n          if (localContentDom) {\n            setContentRef(localContentDom);\n          }\n        }, 100);\n      }, 100);\n    });\n  }, []);\n\n  useEffect(() => {\n    setParentRef('');\n    setContentRef('');\n    setTimeout(() => {\n      const localParentDom = document.getElementById(scrollableElementId);\n      const localContentDom = document.getElementById(scrollableContentId);\n      if (localParentDom) {\n        setParentRef(localParentDom);\n      }\n      if (localContentDom) {\n        setContentRef(localContentDom);\n      }\n    }, 500);\n  }, [updateRefs]);\n\n  useEffect(() => {\n    const localParentDom = document.getElementById(scrollableElementId);\n    const localContentDom = document.getElementById(scrollableContentId);\n    if (localParentDom) {\n      setParentRef(localParentDom);\n    }\n    if (localContentDom) {\n      setContentRef(localContentDom);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (parentRef && scrollPercentage) {\n      parentRef?.addEventListener('scroll', (e) => {\n        if (scrollAxis === 'x') {\n          const curScrollLeft = parentRef?.scrollLeft;\n          const calculatedTranslateX = (scrollPercentage * curScrollLeft) / 100;\n          scrollRef.current.style.transform = `translateX(${calculatedTranslateX}px)`;\n        }\n        if (scrollAxis === 'y') {\n          const curScrollTop = parentRef?.scrollTop;\n          const calculatedTranslateY = (scrollPercentage * curScrollTop) / 100;\n          scrollRef.current.style.transform = `translateY(${calculatedTranslateY}px)`;\n        }\n      });\n    }\n  }, [parentRef, scrollPercentage]);\n\n  useEffect(() => {\n    if (parentRef && contentRef) {\n      if (scrollAxis === 'x') {\n        setScrollPercentage((parentRef.clientWidth / contentRef.clientWidth) * 100);\n      }\n      if (scrollAxis === 'y') {\n        setScrollPercentage((parentRef.clientHeight / contentRef.clientHeight) * 100);\n      }\n    }\n  }, [parentRef, contentRef]);\n\n  useEffect(() => {\n    if (scrollPercentage) {\n      if (scrollAxis === 'x') {\n        setScrollStyle({ width: `${scrollPercentage}%` });\n      }\n      if (scrollAxis === 'y') {\n        setScrollStyle({ height: `${scrollPercentage}%` });\n      }\n    }\n  }, [scrollPercentage]);\n\n  return (\n    <>\n      <div className={cx(containerClassName)}>\n        {children}\n        {scrollPercentage < 100 && (\n          <div className={scrollContainerClassName}>\n            <div\n              ref={(el) => (scrollRef.current = el)}\n              style={{\n                transition,\n                ...scrollStyle\n              }}\n              className={cx(scrollClassName)}></div>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nScroll.propTypes = {\n  ...defaultPropTypes,\n  scrollableElementId: PropTypes.string,\n  scrollableContentId: PropTypes.string,\n  scrollAxis: PropTypes.oneOf(['x', 'y']),\n  containerClassName: PropTypes.string,\n  scrollContainerClassName: PropTypes.string,\n  scrollClassName: PropTypes.string,\n  transition: PropTypes.string,\n  updateRefs: PropTypes.bool\n};\n\nScroll.defaultProps = {\n  ...defaultProps,\n  transition: 'all linear .1s',\n  scrollAxis: 'x',\n  updateRefs: true\n};\n\nexport default Scroll;\n"],"mappings":"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"}