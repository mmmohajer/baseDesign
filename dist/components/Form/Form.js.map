{"version":3,"file":"Form.js","names":["defaultProps","defaultPropsMap","defaultPropTypes","Form","React","forwardRef","ref","onSubmit","toBeValidatedFields","className","children","props","submitHandler","useCallback","e","preventDefault","is_validated","length","forEach","item","curElement","target","idx","validator","type","minRequired","maxRequired","toBeSameFieldVal","validate","value","errorMessageHandler","message","errorActivateHandler","cx","propTypes","PropTypes","func","arrayOf","shape","toBeValidatedFieldsShape","isRequired"],"sources":["../../../src/components/Form/Form.js"],"sourcesContent":["import React, { useCallback } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport defaultPropsMap from 'Constants/defaultProps';\nconst { defaultProps, defaultPropTypes } = defaultPropsMap;\n\nimport { validate, toBeValidatedFieldsShape } from './utils';\n\nconst Form = React.forwardRef(\n  ({ onSubmit, toBeValidatedFields, className, children, ...props }, ref) => {\n    const submitHandler = useCallback((e) => {\n      e.preventDefault();\n      let is_validated = true;\n      if (toBeValidatedFields?.length) {\n        toBeValidatedFields.forEach((item) => {\n          let curElement = e.target[item['input_name']];\n          for (let idx = 0; idx < item['validators'].length; idx++) {\n            let validator = item['validators'][idx]?.type;\n            let minRequired = item['validators'][idx]?.minRequired;\n            let maxRequired = item['validators'][idx]?.maxRequired;\n            let toBeSameFieldVal = item['validators'][idx]?.toBeSameFieldVal;\n            if (validator) {\n              if (\n                !validate(curElement.value, validator, minRequired, maxRequired, toBeSameFieldVal)\n              ) {\n                item?.errorMessageHandler(item['validators'][idx]?.message);\n                if (item?.errorActivateHandler) {\n                  item.errorActivateHandler(true);\n                }\n                is_validated = false;\n                break;\n              }\n            }\n          }\n        });\n      }\n      if (is_validated) {\n        onSubmit();\n      }\n    });\n\n    return (\n      <>\n        <form className={cx(className)} {...props} ref={ref} onSubmit={(e) => submitHandler(e)}>\n          {children}\n        </form>\n      </>\n    );\n  }\n);\n\nForm.propTypes = {\n  ...defaultPropTypes,\n  onSubmit: PropTypes.func,\n  toBeValidatedFields: PropTypes.arrayOf(PropTypes.shape(toBeValidatedFieldsShape).isRequired)\n};\n\nForm.defaultProps = {\n  ...defaultProps\n};\n\nexport default Form;\n"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AAGA;;;;;;;;;;;;AAFA,IAAQA,YAAR,GAA2CC,wBAA3C,CAAQD,YAAR;AAAA,IAAsBE,gBAAtB,GAA2CD,wBAA3C,CAAsBC,gBAAtB;;AAIA,IAAMC,IAAI,gBAAGC,iBAAA,CAAMC,UAAN,CACX,gBAAmEC,GAAnE,EAA2E;EAAA,IAAxEC,QAAwE,QAAxEA,QAAwE;EAAA,IAA9DC,mBAA8D,QAA9DA,mBAA8D;EAAA,IAAzCC,SAAyC,QAAzCA,SAAyC;EAAA,IAA9BC,QAA8B,QAA9BA,QAA8B;EAAA,IAAjBC,KAAiB;EACzE,IAAMC,aAAa,GAAG,IAAAC,kBAAA,EAAY,UAACC,CAAD,EAAO;IACvCA,CAAC,CAACC,cAAF;IACA,IAAIC,YAAY,GAAG,IAAnB;;IACA,IAAIR,mBAAJ,aAAIA,mBAAJ,eAAIA,mBAAmB,CAAES,MAAzB,EAAiC;MAC/BT,mBAAmB,CAACU,OAApB,CAA4B,UAACC,IAAD,EAAU;QACpC,IAAIC,UAAU,GAAGN,CAAC,CAACO,MAAF,CAASF,IAAI,CAAC,YAAD,CAAb,CAAjB;;QACA,KAAK,IAAIG,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGH,IAAI,CAAC,YAAD,CAAJ,CAAmBF,MAA3C,EAAmDK,GAAG,EAAtD,EAA0D;UAAA;;UACxD,IAAIC,SAAS,2BAAGJ,IAAI,CAAC,YAAD,CAAJ,CAAmBG,GAAnB,CAAH,yDAAG,qBAAyBE,IAAzC;UACA,IAAIC,WAAW,4BAAGN,IAAI,CAAC,YAAD,CAAJ,CAAmBG,GAAnB,CAAH,0DAAG,sBAAyBG,WAA3C;UACA,IAAIC,WAAW,4BAAGP,IAAI,CAAC,YAAD,CAAJ,CAAmBG,GAAnB,CAAH,0DAAG,sBAAyBI,WAA3C;UACA,IAAIC,gBAAgB,4BAAGR,IAAI,CAAC,YAAD,CAAJ,CAAmBG,GAAnB,CAAH,0DAAG,sBAAyBK,gBAAhD;;UACA,IAAIJ,SAAJ,EAAe;YACb,IACE,CAAC,IAAAK,eAAA,EAASR,UAAU,CAACS,KAApB,EAA2BN,SAA3B,EAAsCE,WAAtC,EAAmDC,WAAnD,EAAgEC,gBAAhE,CADH,EAEE;cAAA;;cACAR,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEW,mBAAN,0BAA0BX,IAAI,CAAC,YAAD,CAAJ,CAAmBG,GAAnB,CAA1B,0DAA0B,sBAAyBS,OAAnD;;cACA,IAAIZ,IAAJ,aAAIA,IAAJ,eAAIA,IAAI,CAAEa,oBAAV,EAAgC;gBAC9Bb,IAAI,CAACa,oBAAL,CAA0B,IAA1B;cACD;;cACDhB,YAAY,GAAG,KAAf;cACA;YACD;UACF;QACF;MACF,CApBD;IAqBD;;IACD,IAAIA,YAAJ,EAAkB;MAChBT,QAAQ;IACT;EACF,CA7BqB,CAAtB;EA+BA,oBACE,+EACE;IAAM,SAAS,EAAE,IAAA0B,sBAAA,EAAGxB,SAAH;EAAjB,GAAoCE,KAApC;IAA2C,GAAG,EAAEL,GAAhD;IAAqD,QAAQ,EAAE,kBAACQ,CAAD;MAAA,OAAOF,aAAa,CAACE,CAAD,CAApB;IAAA;EAA/D,IACGJ,QADH,CADF,CADF;AAOD,CAxCU,CAAb;;AA2CAP,IAAI,CAAC+B,SAAL,mCACKhC,gBADL;EAEEK,QAAQ,EAAE4B,qBAAA,CAAUC,IAFtB;EAGE5B,mBAAmB,EAAE2B,qBAAA,CAAUE,OAAV,CAAkBF,qBAAA,CAAUG,KAAV,CAAgBC,+BAAhB,EAA0CC,UAA5D;AAHvB;AAMArC,IAAI,CAACH,YAAL,qBACKA,YADL;eAIeG,I"}