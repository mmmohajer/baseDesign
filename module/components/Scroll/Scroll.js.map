{"version":3,"file":"Scroll.js","names":["defaultProps","defaultPropsMap","defaultPropTypes","Scroll","scrollableElementId","scrollableContentId","scrollAxis","containerClassName","scrollContainerClassName","scrollClassName","transition","updateRefs","timeOutToUpdate","children","scrollRef","useRef","useState","parentRef","setParentRef","contentRef","setContentRef","scrollPercentage","setScrollPercentage","scrollStyle","setScrollStyle","useEffect","window","addEventListener","setTimeout","localParentDom","document","getElementById","localContentDom","e","curScrollLeft","scrollLeft","calculatedTranslateX","current","style","transform","curScrollTop","scrollTop","calculatedTranslateY","clientWidth","clientHeight","width","height","cx","el","propTypes","PropTypes","string","oneOf","bool","number"],"sources":["../../../src/components/Scroll/Scroll.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport defaultPropsMap from 'Constants/defaultProps';\nconst { defaultProps, defaultPropTypes } = defaultPropsMap;\n\nconst Scroll = ({\n  scrollableElementId,\n  scrollableContentId,\n  scrollAxis = 'x',\n  containerClassName,\n  scrollContainerClassName,\n  scrollClassName,\n  transition = 'all linear .1s',\n  updateRefs = true,\n  timeOutToUpdate = 500,\n  children\n}) => {\n  const scrollRef = useRef();\n\n  const [parentRef, setParentRef] = useState();\n  const [contentRef, setContentRef] = useState();\n  const [scrollPercentage, setScrollPercentage] = useState(0);\n  const [scrollStyle, setScrollStyle] = useState({});\n\n  useEffect(() => {\n    window.addEventListener('resize', () => {\n      setTimeout(() => {\n        setParentRef('');\n        setContentRef('');\n        setTimeout(() => {\n          const localParentDom = document.getElementById(scrollableElementId);\n          const localContentDom = document.getElementById(scrollableContentId);\n          if (localParentDom) {\n            setParentRef(localParentDom);\n          }\n          if (localContentDom) {\n            setContentRef(localContentDom);\n          }\n        }, 100);\n      }, 100);\n    });\n  }, []);\n\n  useEffect(() => {\n    setParentRef('');\n    setContentRef('');\n    setTimeout(() => {\n      const localParentDom = document.getElementById(scrollableElementId);\n      const localContentDom = document.getElementById(scrollableContentId);\n      if (localParentDom) {\n        setParentRef(localParentDom);\n      }\n      if (localContentDom) {\n        setContentRef(localContentDom);\n      }\n    }, timeOutToUpdate);\n  }, [updateRefs]);\n\n  useEffect(() => {\n    const localParentDom = document.getElementById(scrollableElementId);\n    const localContentDom = document.getElementById(scrollableContentId);\n    if (localParentDom) {\n      setParentRef(localParentDom);\n    }\n    if (localContentDom) {\n      setContentRef(localContentDom);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (parentRef && scrollPercentage) {\n      parentRef?.addEventListener('scroll', (e) => {\n        if (scrollAxis === 'x') {\n          const curScrollLeft = parentRef?.scrollLeft;\n          const calculatedTranslateX = (scrollPercentage * curScrollLeft) / 100;\n          scrollRef.current.style.transform = `translateX(${calculatedTranslateX}px)`;\n        }\n        if (scrollAxis === 'y') {\n          const curScrollTop = parentRef?.scrollTop;\n          const calculatedTranslateY = (scrollPercentage * curScrollTop) / 100;\n          scrollRef.current.style.transform = `translateY(${calculatedTranslateY}px)`;\n        }\n      });\n    }\n  }, [parentRef, scrollPercentage]);\n\n  useEffect(() => {\n    if (parentRef && contentRef) {\n      if (scrollAxis === 'x') {\n        setScrollPercentage((parentRef.clientWidth / contentRef.clientWidth) * 100);\n      }\n      if (scrollAxis === 'y') {\n        setScrollPercentage((parentRef.clientHeight / contentRef.clientHeight) * 100);\n      }\n    }\n  }, [parentRef, contentRef]);\n\n  useEffect(() => {\n    if (scrollPercentage) {\n      if (scrollAxis === 'x') {\n        setScrollStyle({ width: `${scrollPercentage}%` });\n      }\n      if (scrollAxis === 'y') {\n        setScrollStyle({ height: `${scrollPercentage}%` });\n      }\n    }\n  }, [scrollPercentage]);\n\n  return (\n    <>\n      <div className={cx(containerClassName)}>\n        {children}\n        {scrollPercentage < 100 && (\n          <div className={scrollContainerClassName}>\n            <div\n              ref={(el) => (scrollRef.current = el)}\n              style={{\n                transition,\n                ...scrollStyle\n              }}\n              className={cx(scrollClassName)}></div>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nScroll.propTypes = {\n  ...defaultPropTypes,\n  scrollableElementId: PropTypes.string,\n  scrollableContentId: PropTypes.string,\n  scrollAxis: PropTypes.oneOf(['x', 'y']),\n  containerClassName: PropTypes.string,\n  scrollContainerClassName: PropTypes.string,\n  scrollClassName: PropTypes.string,\n  transition: PropTypes.string,\n  updateRefs: PropTypes.bool,\n  timeOutToUpdate: PropTypes.number\n};\n\nexport default Scroll;\n"],"mappings":"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"}