{"version":3,"sources":["../../../src/components/Carousel/Carousel.js"],"names":["defaultProps","defaultPropsMap","defaultPropTypes","Carousel","children","moveRight","setMoveRight","moveLeft","setMoveLeft","moveToItemWithNum","setMoveToItemWithNum","transitionDuration","transition_timing_function","sliderContainer","length","activeIndices","setActiveIndices","getNextActiveIdx","idx","getPrevActiveIdx","wait","delay","Promise","resolve","reject","setTimeout","moveHandler","curActiveIdx","current","classList","add","styles","notransition","remove","nextActiveIdx","prevActiveIdx","multipleMoveHandler","dir","goRight","goLeft","goToItemWithNum","num","el","map","item","propTypes","PropTypes","bool","func","oneOfType","number","oneOf"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AAGA;;;;;;;;;;AAFA,IAAQA,YAAR,GAA2CC,wBAA3C,CAAQD,YAAR;AAAA,IAAsBE,gBAAtB,GAA2CD,wBAA3C,CAAsBC,gBAAtB;;AAKA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAUX;AAAA,MATJC,QASI,QATJA,QASI;AAAA,MARJC,SAQI,QARJA,SAQI;AAAA,MAPJC,YAOI,QAPJA,YAOI;AAAA,MANJC,QAMI,QANJA,QAMI;AAAA,MALJC,WAKI,QALJA,WAKI;AAAA,MAJJC,iBAII,QAJJA,iBAII;AAAA,MAHJC,oBAGI,QAHJA,oBAGI;AAAA,MAFJC,kBAEI,QAFJA,kBAEI;AAAA,MADJC,0BACI,QADJA,0BACI;AACJ,MAAMC,eAAe,GAAG,oBAAxB;;AACA,kBAA0C,qBAAS,CAACT,QAAQ,CAACU,MAAV,EAAkB,CAAlB,EAAqB,CAArB,CAAT,CAA1C;AAAA;AAAA,MAAOC,aAAP;AAAA,MAAsBC,gBAAtB;;AAEA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,GAAD,EAAS;AAChC,WAAOA,GAAG,GAAG,CAAN,GAAUd,QAAQ,CAACU,MAAnB,GAA4BI,GAAG,GAAG,CAAlC,GAAsC,CAA7C;AACD,GAFD;;AAIA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACD,GAAD,EAAS;AAChC,WAAOA,GAAG,GAAG,CAAN,IAAW,CAAX,GAAeA,GAAG,GAAG,CAArB,GAAyBd,QAAQ,CAACU,MAAT,GAAkB,CAAlD;AACD,GAFD;;AAIA,MAAMM,IAAI;AAAA,8FAAG,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA,+CACJ,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV;AAAA,uBAAqBC,UAAU,CAACF,OAAD,EAAUF,KAAV,CAA/B;AAAA,eAAZ,CADI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAJD,IAAI;AAAA;AAAA;AAAA,KAAV;;AAIA,MAAMM,WAAW;AAAA,8FAAG,kBAAOC,YAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACZP,IAAI,CAACT,kBAAkB,GAAG,IAAtB,CADQ;;AAAA;AAElBE,cAAAA,eAAe,CAACe,OAAhB,CAAwBC,SAAxB,CAAkCC,GAAlC,CAAsCC,2BAAOC,YAA7C;AACAnB,cAAAA,eAAe,CAACe,OAAhB,CAAwBC,SAAxB,CAAkCI,MAAlC,CAAyCF,2BAAOxB,QAAhD;AACAM,cAAAA,eAAe,CAACe,OAAhB,CAAwBC,SAAxB,CAAkCI,MAAlC,CAAyCF,2BAAO1B,SAAhD;AACM6B,cAAAA,aALY,GAKIjB,gBAAgB,CAACU,YAAD,CALpB;AAMZQ,cAAAA,aANY,GAMIhB,gBAAgB,CAACQ,YAAD,CANpB;AAOlBX,cAAAA,gBAAgB,CAAC,CAACmB,aAAD,EAAgBR,YAAhB,EAA8BO,aAA9B,CAAD,CAAhB;;AAPkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXR,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAUA,MAAMU,mBAAmB;AAAA,8FAAG,kBAAOT,YAAP,EAAqBU,GAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAC1BxB,cAAAA,eAAe,CAACe,OAAhB,CAAwBC,SAAxB,CAAkCI,MAAlC,CAAyCF,2BAAOC,YAAhD;AACAK,cAAAA,GAAG,KAAK,OAAR,GACIxB,eAAe,CAACe,OAAhB,CAAwBC,SAAxB,CAAkCC,GAAlC,CAAsCC,2BAAO1B,SAA7C,CADJ,GAEIQ,eAAe,CAACe,OAAhB,CAAwBC,SAAxB,CAAkCC,GAAlC,CAAsCC,2BAAOxB,QAA7C,CAFJ;AAF0B;AAAA,qBAKpBa,IAAI,CAACT,kBAAkB,GAAG,IAAtB,CALgB;;AAAA;AAM1BE,cAAAA,eAAe,CAACe,OAAhB,CAAwBC,SAAxB,CAAkCC,GAAlC,CAAsCC,2BAAOC,YAA7C;AACAnB,cAAAA,eAAe,CAACe,OAAhB,CAAwBC,SAAxB,CAAkCI,MAAlC,CAAyCF,2BAAOxB,QAAhD;AACAM,cAAAA,eAAe,CAACe,OAAhB,CAAwBC,SAAxB,CAAkCI,MAAlC,CAAyCF,2BAAO1B,SAAhD;AACM6B,cAAAA,aAToB,GASJjB,gBAAgB,CAACU,YAAD,CATZ;AAUpBQ,cAAAA,aAVoB,GAUJhB,gBAAgB,CAACQ,YAAD,CAVZ;AAW1BX,cAAAA,gBAAgB,CAAC,CAACmB,aAAD,EAAgBR,YAAhB,EAA8BO,aAA9B,CAAD,CAAhB;;AAX0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAnBE,mBAAmB;AAAA;AAAA;AAAA,KAAzB;;AAcA,MAAME,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpBzB,IAAAA,eAAe,CAACe,OAAhB,CAAwBC,SAAxB,CAAkCI,MAAlC,CAAyCF,2BAAOC,YAAhD;AACAnB,IAAAA,eAAe,CAACe,OAAhB,CAAwBC,SAAxB,CAAkCC,GAAlC,CAAsCC,2BAAO1B,SAA7C;AACAqB,IAAAA,WAAW,CAACT,gBAAgB,CAACF,aAAa,CAAC,CAAD,CAAd,CAAjB,CAAX;AACD,GAJD;;AAMA,MAAMwB,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB1B,IAAAA,eAAe,CAACe,OAAhB,CAAwBC,SAAxB,CAAkCI,MAAlC,CAAyCF,2BAAOC,YAAhD;AACAnB,IAAAA,eAAe,CAACe,OAAhB,CAAwBC,SAAxB,CAAkCC,GAAlC,CAAsCC,2BAAOxB,QAA7C;AACAmB,IAAAA,WAAW,CAACP,gBAAgB,CAACJ,aAAa,CAAC,CAAD,CAAd,CAAjB,CAAX;AACD,GAJD;;AAMA,MAAMyB,eAAe;AAAA,8FAAG,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAYd,cAAAA,YAAZ,8DAA2BZ,aAAa,CAAC,CAAD,CAAxC;;AAAA,oBAClBY,YAAY,GAAGc,GAAG,GAAG,CADH;AAAA;AAAA;AAAA;;AAEpBd,cAAAA,YAAY,IAAI,CAAhB;AACAS,cAAAA,mBAAmB,CAACT,YAAD,EAAe,OAAf,CAAnB;AAHoB;AAAA,qBAIdP,IAAI,CAACT,kBAAkB,GAAG,IAArB,GAA4B,GAA7B,CAJU;;AAAA;AAKpB6B,cAAAA,eAAe,CAACC,GAAD,EAAMd,YAAN,CAAf;AALoB;AAAA;;AAAA;AAAA,oBAMXA,YAAY,GAAGc,GAAG,GAAG,CANV;AAAA;AAAA;AAAA;;AAOpBd,cAAAA,YAAY,IAAI,CAAhB;AACAS,cAAAA,mBAAmB,CAACT,YAAD,EAAe,MAAf,CAAnB;AARoB;AAAA,qBASdP,IAAI,CAACT,kBAAkB,GAAG,IAArB,GAA4B,GAA7B,CATU;;AAAA;AAUpB6B,cAAAA,eAAe,CAACC,GAAD,EAAMd,YAAN,CAAf;;AAVoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAfa,eAAe;AAAA;AAAA;AAAA,KAArB;;AAcA,wBAAU,YAAM;AACd,QAAInC,SAAJ,EAAe;AACbiC,MAAAA,OAAO;AACPhC,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD;AACF,GALD,EAKG,CAACD,SAAD,CALH;AAOA,wBAAU,YAAM;AACd,QAAIE,QAAJ,EAAc;AACZgC,MAAAA,MAAM;AACN/B,MAAAA,WAAW,CAAC,KAAD,CAAX;AACD;AACF,GALD,EAKG,CAACD,QAAD,CALH;AAOA,wBAAU,YAAM;AACd,QAAIE,iBAAJ,EAAuB;AACrB+B,MAAAA,eAAe,CAAC/B,iBAAD,CAAf;AACD;;AACDC,IAAAA,oBAAoB,CAAC,KAAD,CAApB;AACD,GALD,EAKG,CAACD,iBAAD,CALH;AAOA,sBACE,+EACE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AACE,IAAA,SAAS,EAAE,4BAAG,MAAH,EAAWsB,2BAAOlB,eAAlB,CADb;AAEE,IAAA,GAAG,EAAE,aAAC6B,EAAD;AAAA,aAAS7B,eAAe,CAACe,OAAhB,GAA0Bc,EAAnC;AAAA;AAFP,KAGG3B,aAAa,CAAC4B,GAAd,CAAkB,UAACC,IAAD,EAAO1B,GAAP;AAAA,wBACjB;AAAK,MAAA,GAAG,EAAEA,GAAV;AAAe,MAAA,SAAS,EAAC;AAAzB,OACGd,QAAQ,CAACwC,IAAD,CADX,CADiB;AAAA,GAAlB,CAHH,CADF,CADF,eAaE,sEAEOb,2BAAOlB,eAFd,qDAGgCD,0BAHhC,cAG8DD,kBAH9D,kDAI6BC,0BAJ7B,cAI2DD,kBAJ3D,gDAK2BC,0BAL3B,cAKyDD,kBALzD,6CAMwBC,0BANxB,cAMsDD,kBANtD,+BAbF,CADF;AA0BD,CA3HD;;AA6HAR,QAAQ,CAAC0C,SAAT,mCACK3C,gBADL;AAEEG,EAAAA,SAAS,EAAEyC,sBAAUC,IAFvB;AAGEzC,EAAAA,YAAY,EAAEwC,sBAAUE,IAH1B;AAIEzC,EAAAA,QAAQ,EAAEuC,sBAAUC,IAJtB;AAKEvC,EAAAA,WAAW,EAAEsC,sBAAUE,IALzB;AAMEvC,EAAAA,iBAAiB,EAAEqC,sBAAUG,SAAV,CAAoB,CAACH,sBAAUC,IAAX,EAAiBF,sBAAUK,MAA3B,CAApB,CANrB;AAOExC,EAAAA,oBAAoB,EAAEoC,sBAAUE,IAPlC;AAQErC,EAAAA,kBAAkB,EAAEmC,sBAAUI,MARhC;AASEtC,EAAAA,0BAA0B,EAAEkC,sBAAUK,KAAV,CAAgB,CAC1C,MAD0C,EAE1C,QAF0C,EAG1C,SAH0C,EAI1C,UAJ0C,EAK1C,aAL0C,EAM1C,SAN0C,CAAhB;AAT9B;AAmBAhD,QAAQ,CAACH,YAAT,mCACKA,YADL;AAEEK,EAAAA,SAAS,EAAE,KAFb;AAGEE,EAAAA,QAAQ,EAAE,KAHZ;AAIEE,EAAAA,iBAAiB,EAAE,CAJrB;AAKEE,EAAAA,kBAAkB,EAAE,GALtB;AAMEC,EAAAA,0BAA0B,EAAE;AAN9B;eASeT,Q","sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport defaultPropsMap from 'Constants/defaultProps';\nconst { defaultProps, defaultPropTypes } = defaultPropsMap;\n\nimport styles from './Carousel.module.scss';\nimport propTypes from 'prop-types';\n\nconst Carousel = ({\n  children,\n  moveRight,\n  setMoveRight,\n  moveLeft,\n  setMoveLeft,\n  moveToItemWithNum,\n  setMoveToItemWithNum,\n  transitionDuration,\n  transition_timing_function\n}) => {\n  const sliderContainer = useRef();\n  const [activeIndices, setActiveIndices] = useState([children.length, 0, 1]);\n\n  const getNextActiveIdx = (idx) => {\n    return idx + 1 < children.length ? idx + 1 : 0;\n  };\n\n  const getPrevActiveIdx = (idx) => {\n    return idx - 1 >= 0 ? idx - 1 : children.length - 1;\n  };\n\n  const wait = async (delay) => {\n    return new Promise((resolve, reject) => setTimeout(resolve, delay));\n  };\n\n  const moveHandler = async (curActiveIdx) => {\n    await wait(transitionDuration * 1000);\n    sliderContainer.current.classList.add(styles.notransition);\n    sliderContainer.current.classList.remove(styles.moveLeft);\n    sliderContainer.current.classList.remove(styles.moveRight);\n    const nextActiveIdx = getNextActiveIdx(curActiveIdx);\n    const prevActiveIdx = getPrevActiveIdx(curActiveIdx);\n    setActiveIndices([prevActiveIdx, curActiveIdx, nextActiveIdx]);\n  };\n\n  const multipleMoveHandler = async (curActiveIdx, dir) => {\n    sliderContainer.current.classList.remove(styles.notransition);\n    dir === 'right'\n      ? sliderContainer.current.classList.add(styles.moveRight)\n      : sliderContainer.current.classList.add(styles.moveLeft);\n    await wait(transitionDuration * 1000);\n    sliderContainer.current.classList.add(styles.notransition);\n    sliderContainer.current.classList.remove(styles.moveLeft);\n    sliderContainer.current.classList.remove(styles.moveRight);\n    const nextActiveIdx = getNextActiveIdx(curActiveIdx);\n    const prevActiveIdx = getPrevActiveIdx(curActiveIdx);\n    setActiveIndices([prevActiveIdx, curActiveIdx, nextActiveIdx]);\n  };\n\n  const goRight = () => {\n    sliderContainer.current.classList.remove(styles.notransition);\n    sliderContainer.current.classList.add(styles.moveRight);\n    moveHandler(getNextActiveIdx(activeIndices[1]));\n  };\n\n  const goLeft = () => {\n    sliderContainer.current.classList.remove(styles.notransition);\n    sliderContainer.current.classList.add(styles.moveLeft);\n    moveHandler(getPrevActiveIdx(activeIndices[1]));\n  };\n\n  const goToItemWithNum = async (num, curActiveIdx = activeIndices[1]) => {\n    if (curActiveIdx < num - 1) {\n      curActiveIdx += 1;\n      multipleMoveHandler(curActiveIdx, 'right');\n      await wait(transitionDuration * 1000 + 100);\n      goToItemWithNum(num, curActiveIdx);\n    } else if (curActiveIdx > num - 1) {\n      curActiveIdx -= 1;\n      multipleMoveHandler(curActiveIdx, 'left');\n      await wait(transitionDuration * 1000 + 100);\n      goToItemWithNum(num, curActiveIdx);\n    }\n  };\n\n  useEffect(() => {\n    if (moveRight) {\n      goRight();\n      setMoveRight(false);\n    }\n  }, [moveRight]);\n\n  useEffect(() => {\n    if (moveLeft) {\n      goLeft();\n      setMoveLeft(false);\n    }\n  }, [moveLeft]);\n\n  useEffect(() => {\n    if (moveToItemWithNum) {\n      goToItemWithNum(moveToItemWithNum);\n    }\n    setMoveToItemWithNum(false);\n  }, [moveToItemWithNum]);\n\n  return (\n    <>\n      <div className=\"w-per-100 of-x-hidden\">\n        <div\n          className={cx('flex', styles.sliderContainer)}\n          ref={(el) => (sliderContainer.current = el)}>\n          {activeIndices.map((item, idx) => (\n            <div key={idx} className=\"flex flex--jc--center flex--ai--center w-per-100\">\n              {children[item]}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <style>\n        {`\n          .${styles.sliderContainer} {\n            -webkit-transition: all ${transition_timing_function} ${transitionDuration}s;\n            -moz-transition: all ${transition_timing_function} ${transitionDuration}s;\n            -o-transition: all ${transition_timing_function} ${transitionDuration}s;\n            transition: all ${transition_timing_function} ${transitionDuration}s;\n          }\n        `}\n      </style>\n    </>\n  );\n};\n\nCarousel.propTypes = {\n  ...defaultPropTypes,\n  moveRight: PropTypes.bool,\n  setMoveRight: PropTypes.func,\n  moveLeft: PropTypes.bool,\n  setMoveLeft: PropTypes.func,\n  moveToItemWithNum: PropTypes.oneOfType([PropTypes.bool, propTypes.number]),\n  setMoveToItemWithNum: PropTypes.func,\n  transitionDuration: PropTypes.number,\n  transition_timing_function: PropTypes.oneOf([\n    'ease',\n    'linear',\n    'ease-in',\n    'ease-out',\n    'ease-in-out',\n    'inherit'\n  ])\n};\n\nCarousel.defaultProps = {\n  ...defaultProps,\n  moveRight: false,\n  moveLeft: false,\n  moveToItemWithNum: 1,\n  transitionDuration: 0.3,\n  transition_timing_function: 'linear'\n};\n\nexport default Carousel;\n"],"file":"Carousel.js"}