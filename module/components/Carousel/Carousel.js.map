{"version":3,"file":"Carousel.js","names":["defaultProps","defaultPropsMap","defaultPropTypes","Carousel","children","moveRight","setMoveRight","moveLeft","setMoveLeft","moveToItemWithNum","setMoveToItemWithNum","transitionDuration","transition_timing_function","className","props","sliderContainer","useRef","useState","length","activeIndices","setActiveIndices","getNextActiveIdx","idx","getPrevActiveIdx","wait","delay","Promise","resolve","reject","setTimeout","moveHandler","curActiveIdx","current","classList","add","remove","nextActiveIdx","prevActiveIdx","multipleMoveHandler","dir","goRight","goLeft","goToItemWithNum","num","useEffect","cx","el","map","item","propTypes","PropTypes","bool","func","oneOfType","number","oneOf"],"sources":["../../../src/components/Carousel/Carousel.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport defaultPropsMap from 'Constants/defaultProps';\nconst { defaultProps, defaultPropTypes } = defaultPropsMap;\n\nimport propTypes from 'prop-types';\n\nconst Carousel = ({\n  children,\n  moveRight,\n  setMoveRight,\n  moveLeft,\n  setMoveLeft,\n  moveToItemWithNum,\n  setMoveToItemWithNum,\n  transitionDuration,\n  transition_timing_function,\n  className,\n  ...props\n}) => {\n  const sliderContainer = useRef();\n  const [activeIndices, setActiveIndices] = useState([children.length - 1, 0, 1]);\n\n  const getNextActiveIdx = (idx) => {\n    return idx + 1 < children.length ? idx + 1 : 0;\n  };\n\n  const getPrevActiveIdx = (idx) => {\n    return idx - 1 >= 0 ? idx - 1 : children.length - 1;\n  };\n\n  const wait = async (delay) => {\n    return new Promise((resolve, reject) => setTimeout(resolve, delay));\n  };\n\n  const moveHandler = async (curActiveIdx) => {\n    await wait(transitionDuration * 1000);\n    sliderContainer.current.classList.add('ISWAD-Carousel-notransition');\n    sliderContainer.current.classList.remove('ISWAD-Carousel-moveLeft');\n    sliderContainer.current.classList.remove('ISWAD-Carousel-moveRight');\n    const nextActiveIdx = getNextActiveIdx(curActiveIdx);\n    const prevActiveIdx = getPrevActiveIdx(curActiveIdx);\n    setActiveIndices([prevActiveIdx, curActiveIdx, nextActiveIdx]);\n  };\n\n  const multipleMoveHandler = async (curActiveIdx, dir) => {\n    sliderContainer.current.classList.remove('ISWAD-Carousel-notransition');\n    dir === 'right'\n      ? sliderContainer.current.classList.add('ISWAD-Carousel-moveRight')\n      : sliderContainer.current.classList.add('ISWAD-Carousel-moveLeft');\n    await wait(transitionDuration * 1000);\n    sliderContainer.current.classList.add('ISWAD-Carousel-notransition');\n    sliderContainer.current.classList.remove('ISWAD-Carousel-moveLeft');\n    sliderContainer.current.classList.remove('ISWAD-Carousel-moveRight');\n    const nextActiveIdx = getNextActiveIdx(curActiveIdx);\n    const prevActiveIdx = getPrevActiveIdx(curActiveIdx);\n    setActiveIndices([prevActiveIdx, curActiveIdx, nextActiveIdx]);\n  };\n\n  const goRight = () => {\n    sliderContainer.current.classList.remove('ISWAD-Carousel-notransition');\n    sliderContainer.current.classList.add('ISWAD-Carousel-moveRight');\n    moveHandler(getNextActiveIdx(activeIndices[1]));\n  };\n\n  const goLeft = () => {\n    sliderContainer.current.classList.remove('ISWAD-Carousel-notransition');\n    sliderContainer.current.classList.add('ISWAD-Carousel-moveLeft');\n    moveHandler(getPrevActiveIdx(activeIndices[1]));\n  };\n\n  const goToItemWithNum = async (num, curActiveIdx = activeIndices[1]) => {\n    if (curActiveIdx < num - 1) {\n      curActiveIdx += 1;\n      multipleMoveHandler(curActiveIdx, 'right');\n      await wait(transitionDuration * 1000 + 100);\n      goToItemWithNum(num, curActiveIdx);\n    } else if (curActiveIdx > num - 1) {\n      curActiveIdx -= 1;\n      multipleMoveHandler(curActiveIdx, 'left');\n      await wait(transitionDuration * 1000 + 100);\n      goToItemWithNum(num, curActiveIdx);\n    }\n  };\n\n  useEffect(() => {\n    if (moveRight) {\n      goRight();\n      setMoveRight(false);\n    }\n  }, [moveRight]);\n\n  useEffect(() => {\n    if (moveLeft) {\n      goLeft();\n      setMoveLeft(false);\n    }\n  }, [moveLeft]);\n\n  useEffect(() => {\n    if (moveToItemWithNum) {\n      goToItemWithNum(moveToItemWithNum);\n    }\n    setMoveToItemWithNum(false);\n  }, [moveToItemWithNum]);\n\n  return (\n    <>\n      <div className={cx('w-per-100 of-x-hidden', className)} {...props}>\n        <div\n          className={cx('flex', 'ISWAD-Carousel-sliderContainer')}\n          ref={(el) => (sliderContainer.current = el)}>\n          {activeIndices.map((item, idx) => (\n            <div key={idx} className=\"flex flex--jc--center flex--ai--center w-per-100\">\n              {children[item]}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <style>\n        {`\n          .${'ISWAD-Carousel-sliderContainer'} {\n            -webkit-transition: all ${transition_timing_function} ${transitionDuration}s;\n            -moz-transition: all ${transition_timing_function} ${transitionDuration}s;\n            -o-transition: all ${transition_timing_function} ${transitionDuration}s;\n            transition: all ${transition_timing_function} ${transitionDuration}s;\n          }\n        `}\n      </style>\n    </>\n  );\n};\n\nCarousel.propTypes = {\n  ...defaultPropTypes,\n  moveRight: PropTypes.bool,\n  setMoveRight: PropTypes.func,\n  moveLeft: PropTypes.bool,\n  setMoveLeft: PropTypes.func,\n  moveToItemWithNum: PropTypes.oneOfType([PropTypes.bool, propTypes.number]),\n  setMoveToItemWithNum: PropTypes.func,\n  transitionDuration: PropTypes.number,\n  transition_timing_function: PropTypes.oneOf([\n    'ease',\n    'linear',\n    'ease-in',\n    'ease-out',\n    'ease-in-out',\n    'inherit'\n  ])\n};\n\nCarousel.defaultProps = {\n  ...defaultProps,\n  moveRight: false,\n  moveLeft: false,\n  moveToItemWithNum: 1,\n  transitionDuration: 0.3,\n  transition_timing_function: 'linear'\n};\n\nexport default Carousel;\n"],"mappings":"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"}