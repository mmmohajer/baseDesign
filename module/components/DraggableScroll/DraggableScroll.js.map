{"version":3,"file":"DraggableScroll.js","names":["defaultProps","defaultPropsMap","defaultPropTypes","Scroll","React","forwardRef","ref","containerClassName","scrollContainerClassName","scrollClassName","scrollableElementId","scrollableContentId","scrollAxis","children","disabled","props","useState","parentRef","setParentRef","contentRef","setContentRef","leftOnDragStart","setLeftOnDragStart","topOnDragStart","setTopOnDragStart","scrollPercentage","setScrollPercentage","scrollStyle","setScrollStyle","left","top","right","bottom","bounds","setBounds","useEffect","localParentDom","document","getElementById","localContentDom","clientWidth","clientHeight","width","height","remainingToTheEnd","handleDragging","e","curScrollLeft","scrollLeft","scroll","clientX","curScrollTop","scrollTop","clientY","handleDragStart","cx","x","y"],"sources":["../../../src/components/DraggableScroll/DraggableScroll.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Draggable from 'react-draggable';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport defaultPropsMap from 'Constants/defaultProps';\nconst { defaultProps, defaultPropTypes } = defaultPropsMap;\n\nconst Scroll = React.forwardRef(\n  (\n    {\n      containerClassName,\n      scrollContainerClassName,\n      scrollClassName,\n      scrollableElementId,\n      scrollableContentId,\n      scrollAxis,\n      children,\n      disabled,\n      ...props\n    },\n    ref\n  ) => {\n    const [parentRef, setParentRef] = useState();\n    const [contentRef, setContentRef] = useState();\n    const [leftOnDragStart, setLeftOnDragStart] = useState(0);\n    const [topOnDragStart, setTopOnDragStart] = useState(0);\n    const [scrollPercentage, setScrollPercentage] = useState(0);\n    const [scrollStyle, setScrollStyle] = useState({});\n    const [bounds, setBounds] = useState({ left: 0, top: 0, right: 0, bottom: 0 });\n\n    useEffect(() => {\n      const localParentDom = document.getElementById(scrollableElementId);\n      const localContentDom = document.getElementById(scrollableContentId);\n      if (localParentDom) {\n        setParentRef(localParentDom);\n      }\n      if (localContentDom) {\n        setContentRef(localContentDom);\n      }\n    }, []);\n\n    useEffect(() => {\n      if (parentRef && contentRef) {\n        if (scrollAxis === 'x') {\n          setScrollPercentage((parentRef.clientWidth / contentRef.clientWidth) * 100);\n        }\n        if (scrollAxis === 'y') {\n          setScrollPercentage((parentRef.clientHeight / contentRef.clientHeight) * 100);\n        }\n      }\n    }, [parentRef, contentRef]);\n\n    useEffect(() => {\n      if (scrollPercentage) {\n        if (scrollAxis === 'x') {\n          setScrollStyle({ width: `${scrollPercentage}%` });\n        }\n        if (scrollAxis === 'y') {\n          setScrollStyle({ height: `${scrollPercentage}%` });\n        }\n      }\n    }, [scrollPercentage]);\n\n    useEffect(() => {\n      if (parentRef && scrollStyle) {\n        const remainingToTheEnd =\n          parentRef?.clientWidth - (parentRef?.clientWidth * scrollPercentage) / 100;\n        if (scrollAxis === 'x') {\n          setBounds({ left: 0, top: 0, right: remainingToTheEnd, bottom: 0 });\n        }\n        if (scrollAxis === 'y') {\n          setBounds({ left: 0, top: 0, right: 0, bottom: remainingToTheEnd });\n        }\n      }\n    }, [parentRef, scrollStyle]);\n\n    const handleDragging = (e) => {\n      if (scrollAxis === 'x') {\n        const curScrollLeft = parentRef?.scrollLeft;\n        parentRef.scroll(curScrollLeft + e?.clientX - leftOnDragStart, 0);\n      }\n      if (scrollAxis === 'y') {\n        const curScrollTop = parentRef?.scrollTop;\n        parentRef.scroll(0, curScrollTop + e?.clientY - topOnDragStart);\n      }\n    };\n\n    const handleDragStart = (e) => {\n      setLeftOnDragStart(e?.clientX);\n      setTopOnDragStart(e?.clientY);\n    };\n\n    return (\n      <>\n        <div className={cx(containerClassName)}>\n          {children}\n          <div className={scrollContainerClassName}>\n            <Draggable\n              axis={scrollAxis}\n              disabled={disabled}\n              bounds={bounds}\n              defaultPosition={{ x: 0, y: 0 }}\n              position={null}\n              grid={[1, 1]}\n              scale={1}\n              onDrag={handleDragging}\n              onStart={handleDragStart}>\n              <div style={scrollStyle} className={cx(scrollClassName)}></div>\n            </Draggable>\n          </div>\n        </div>\n      </>\n    );\n  }\n);\n\nexport default Scroll;\n"],"mappings":"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"}