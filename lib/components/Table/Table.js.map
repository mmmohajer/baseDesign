{"version":3,"file":"Table.js","names":["defaultProps","defaultPropsMap","defaultPropTypes","Table","headLines","data","colWidth","tableWidth","isSelectable","search","selectedData","setSelectedData","sortIconColors","rowsPerPage","currentPage","setCurrentPage","showDefaultPagination","numberOfShownPages","props","useState","first_name","last_name","filter","setFilter","filteredData","setFilteredData","sortedData","setSortedData","isChecked","setIsChecked","allIsChecked","setAllIsChecked","isSorted","setIsSorted","sortIconColor","setSortIconColor","pageData","setPageData","numberOfTotalPages","setNumberOfTotalPages","tableTotalWidth","setTableTotalWidth","calcTotalWidth","totalWidth","allCols","length","map","h","width","useEffect","searchHandler","e","head","key","value","curFilter","target","setTimeout","localSortedData","d","curSearchElem","includes","localIsChecked","count","localData","localSortIconColor","isSortable","localSelectedData","Object","keys","idx","toBeAdded","find","parseInt","push","sortHandler","localIsSorted","curKey","k","sort","a","b","firstVal","secondVal","Math","ceil","localPageData","firstIdx","lastIdx","slice","cx","checked","obj","display","hasSearch","onChange","curRow","curCol","idx1","propTypes","PropTypes","array","arrayOf","object","number","string","bool","func","shape","ASC","DESC","REG"],"sources":["../../../src/components/Table/Table.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport defaultPropsMap from 'Constants/defaultProps';\nconst { defaultProps, defaultPropTypes } = defaultPropsMap;\n\nimport Th from './subs/Th';\nimport Tr from './subs/Tr';\nimport Td from './subs/Td';\nimport Icon from '../Icon';\nimport Search from '../Search';\nimport Pagination from '../Pagination';\nimport propTypes from 'prop-types';\n\nconst Table = ({\n  headLines,\n  data,\n  colWidth,\n  tableWidth,\n  isSelectable,\n  search,\n  selectedData,\n  setSelectedData,\n  sortIconColors,\n  rowsPerPage,\n  currentPage,\n  setCurrentPage,\n  showDefaultPagination,\n  numberOfShownPages,\n  ...props\n}) => {\n  const [filter, setFilter] = useState({ first_name: '', last_name: '' });\n  const [filteredData, setFilteredData] = useState([]);\n  const [sortedData, setSortedData] = useState([]);\n  const [isChecked, setIsChecked] = useState({});\n  const [allIsChecked, setAllIsChecked] = useState(false);\n  const [isSorted, setIsSorted] = useState({});\n  const [sortIconColor, setSortIconColor] = useState({});\n  const [pageData, setPageData] = useState({});\n  const [numberOfTotalPages, setNumberOfTotalPages] = useState(1);\n  const [tableTotalWidth, setTableTotalWidth] = useState('100%');\n\n  const calcTotalWidth = () => {\n    let totalWidth = 0;\n    let allCols = headLines.length;\n    headLines.map((h) => {\n      if (h?.width) {\n        totalWidth += h.width;\n        allCols -= 1;\n      }\n    });\n    totalWidth += colWidth * allCols;\n    if (isSelectable) {\n      totalWidth += 25;\n    }\n    setTableTotalWidth(`${totalWidth}px`);\n  };\n\n  useEffect(() => {\n    if (!tableWidth) {\n      calcTotalWidth();\n    } else {\n      setTableTotalWidth(tableWidth);\n    }\n  }, []);\n\n  const searchHandler = (e, head) => {\n    const key = head?.value || head;\n    const curFilter = { ...filter };\n    curFilter[key] = e.target.value;\n    setFilter(curFilter);\n\n    setTimeout(() => {\n      if (currentPage !== 1) {\n        setCurrentPage(1);\n      }\n      let localSortedData = [...data];\n      localSortedData = localSortedData.filter((d) => {\n        const curSearchElem = d[key]?.value || d[key];\n        return curSearchElem.includes(e.target.value);\n      });\n      setSortedData(localSortedData);\n      setFilteredData(localSortedData);\n    }, 500);\n  };\n\n  useEffect(() => {\n    const localIsChecked = { ...isChecked };\n    let count = 0;\n    if (data.length) {\n      const localData = [...data];\n      localData.map((d) => {\n        d['iswad_table_idx'] = count;\n        localIsChecked[count] = false;\n        count += 1;\n      });\n      setFilteredData(localData);\n      setSortedData(localData);\n      setIsChecked(localIsChecked);\n    }\n  }, [data]);\n\n  useEffect(() => {\n    const localSortIconColor = { ...sortIconColor };\n    headLines.map((h) => {\n      if (h?.isSortable) {\n        localSortIconColor[h?.value || h] = sortIconColors['REG'] || 'silver';\n      }\n    });\n    setSortIconColor(localSortIconColor);\n  }, [headLines]);\n\n  useEffect(() => {\n    const localSelectedData = [];\n    if (Object.keys(isChecked).length) {\n      Object.keys(isChecked).map((idx) => {\n        if (isChecked[idx]) {\n          const toBeAdded = {\n            ...sortedData.find((d) => d['iswad_table_idx'] === parseInt(idx))\n          };\n          delete toBeAdded['iswad_table_idx'];\n          localSelectedData.push(toBeAdded);\n        }\n      });\n      setSelectedData(localSelectedData);\n    }\n  }, [isChecked]);\n\n  const sortHandler = (head) => {\n    setCurrentPage(1);\n    const key = head?.value || head;\n    let localIsSorted = { ...isSorted };\n    const curKey = Object.keys(localIsSorted)[0] || false;\n    if (curKey && key === curKey) {\n      localIsSorted[key] += 1;\n      if (localIsSorted[key] > 2) {\n        localIsSorted[key] = 0;\n      }\n    } else {\n      localIsSorted = {};\n      localIsSorted[key] = 1;\n    }\n    setIsSorted(localIsSorted);\n\n    const localSortIconColor = { ...sortIconColor };\n    Object.keys(localSortIconColor).map((k) => {\n      localSortIconColor[k] = sortIconColors['REG'] || 'silver';\n    });\n    if (localIsSorted[key] === 1) {\n      localSortIconColor[key] = sortIconColors['ASC'] || 'green';\n    } else if (localIsSorted[key] === 2) {\n      localSortIconColor[key] = sortIconColors['DESC'] || 'red';\n    } else {\n      localSortIconColor[key] = sortIconColors['REG'] || 'silver';\n    }\n    setSortIconColor(localSortIconColor);\n  };\n\n  useEffect(() => {\n    const curKey = Object.keys(isSorted)[0] || false;\n    const localData = [...sortedData];\n    if (curKey) {\n      if (isSorted[curKey] === 1) {\n        localData.sort((a, b) => {\n          const firstVal = a[curKey]?.value || a[curKey];\n          const secondVal = b[curKey]?.value || b[curKey];\n          return firstVal > secondVal ? 1 : secondVal > firstVal ? -1 : 0;\n        });\n        setSortedData(localData);\n      } else if (isSorted[curKey] === 2) {\n        localData.sort((a, b) => {\n          const firstVal = a[curKey]?.value || a[curKey];\n          const secondVal = b[curKey]?.value || b[curKey];\n          return firstVal > secondVal ? -1 : secondVal > firstVal ? 1 : 0;\n        });\n        setSortedData(localData);\n      } else {\n        setSortedData([...filteredData]);\n      }\n    }\n  }, [isSorted]);\n\n  useEffect(() => {\n    setNumberOfTotalPages(Math.ceil(sortedData.length / rowsPerPage));\n  }, [sortedData]);\n\n  useEffect(() => {\n    let localPageData = [...sortedData];\n    if (rowsPerPage) {\n      const firstIdx = (currentPage - 1) * rowsPerPage;\n      const lastIdx = currentPage * rowsPerPage - 1;\n      localPageData = localPageData.slice(firstIdx, lastIdx);\n    }\n    setPageData(localPageData);\n  }, [currentPage, sortedData, filteredData]);\n\n  return (\n    <>\n      <div>\n        <div className={cx('w-per-100 of-x-auto')}>\n          <div\n            className={cx('flex flex--dir--col ml-auto mr-auto of-x-auto iswad_table')}\n            {...props}>\n            <Th className=\"\">\n              {isSelectable && (\n                <Td style={{ width: `25px` }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={allIsChecked}\n                    onChange={(e) => {\n                      setAllIsChecked(e.target.checked);\n                      const localIsChecked = { ...isChecked };\n                      Object.keys(localIsChecked).map((obj) => {\n                        localIsChecked[obj] = e.target.checked;\n                      });\n                      setIsChecked(localIsChecked);\n                    }}\n                  />\n                </Td>\n              )}\n              {headLines.map((head, idx) => (\n                <Td className=\"\" style={head?.width && { width: `${head.width}px` }} key={idx}>\n                  <div className=\"flex w-per-100 flex--jc--between flex--ai--center\">\n                    <div className=\"w-per-100 iswad_table_headContainer\">\n                      <div className=\"m1\">{head?.display || head}</div>\n                      {head.hasSearch && (\n                        <div className=\"\">\n                          {search ? (\n                            search({\n                              value: filter[head?.value || head],\n                              onChange: (e) => searchHandler(e, head)\n                            })\n                          ) : (\n                            <Search\n                              value={filter[head?.value || head]}\n                              onChange={(e) => searchHandler(e, head)}\n                            />\n                          )}\n                        </div>\n                      )}\n                    </div>\n                    {head?.isSortable && (\n                      <div className=\"mouse-hand\" onClick={() => sortHandler(head)}>\n                        <Icon\n                          type=\"down\"\n                          fill={sortIconColor[head?.value || head]}\n                          stroke={sortIconColor[head?.value || head]}\n                        />\n                      </div>\n                    )}\n                  </div>\n                </Td>\n              ))}\n            </Th>\n            {pageData?.length\n              ? pageData.map((curRow, idx) => (\n                  <Tr key={idx}>\n                    {isSelectable && (\n                      <Td style={{ width: `25px` }}>\n                        <div>\n                          <input\n                            type=\"checkbox\"\n                            checked={isChecked[curRow['iswad_table_idx']]}\n                            onChange={(e) => {\n                              const localIsChecked = { ...isChecked };\n                              localIsChecked[curRow['iswad_table_idx']] = e.target.checked;\n                              setIsChecked(localIsChecked);\n                            }}\n                          />\n                        </div>\n                      </Td>\n                    )}\n                    {headLines.map((curCol, idx1) => (\n                      <Td key={idx1} style={curCol?.width && { width: `${curCol.width}px` }}>\n                        {curRow[curCol?.value || curCol]?.display ||\n                          curRow[curCol?.value || curCol] ||\n                          curRow[curCol]}\n                      </Td>\n                    ))}\n                  </Tr>\n                ))\n              : ''}\n          </div>\n        </div>\n        {showDefaultPagination && numberOfTotalPages ? (\n          <Pagination\n            numberOfShownPages={numberOfShownPages || 5}\n            currentPage={currentPage}\n            numberOfTotalPages={numberOfTotalPages}\n            setCurrentPage={setCurrentPage}\n            showFirstLastIcon={true}\n          />\n        ) : (\n          ''\n        )}\n      </div>\n      <style>\n        {`\n        .iswad_td {\n            width: ${colWidth}px;\n          }\n\n          .iswad_table {\n            width: ${tableTotalWidth};\n          }\n          `}\n      </style>\n    </>\n  );\n};\n\nTable.propTypes = {\n  ...defaultPropTypes,\n  headLines: PropTypes.array,\n  data: PropTypes.arrayOf(propTypes.object),\n  colWidth: PropTypes.number,\n  tableWidth: PropTypes.string,\n  isSelectable: PropTypes.bool,\n  search: PropTypes.func,\n  selectedData: PropTypes.arrayOf(propTypes.object),\n  setSelectedData: PropTypes.func,\n  sortIconColors: PropTypes.shape({\n    ASC: PropTypes.string,\n    DESC: PropTypes.string,\n    REG: PropTypes.string\n  }),\n  rowsPerPage: PropTypes.number,\n  currentPage: PropTypes.number,\n  setCurrentPage: PropTypes.func,\n  showDefaultPagination: PropTypes.bool,\n  numberOfShownPages: PropTypes.number\n};\n\nTable.defaultProps = {\n  colWidth: 300,\n  isSelectable: false,\n  sortIconColors: { ASC: 'green', DESC: 'red', REG: 'silver' },\n  showDefaultPagination: true,\n  numberOfShownPages: 5\n};\n\nexport default Table;\n"],"mappings":"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"}